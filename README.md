<div align="center">

# ğŸš€ StatDash

> **Transforme sua base de conhecimento em insights acionÃ¡veis**  
> Dashboard estatÃ­stico poderoso para Capacities com anÃ¡lise avanÃ§ada, grÃ¡ficos interativos e mapeamento de relacionamentos

![StatDash Logo](logo.png)

[![Node.js](https://img.shields.io/badge/Node.js-18+-green?style=for-the-badge&logo=node.js)](https://nodejs.org/)
[![License](https://img.shields.io/badge/License-MIT-blue?style=for-the-badge)](LICENSE)
[![Capacities](https://img.shields.io/badge/Capacities-API-orange?style=for-the-badge)](https://capacities.io)
[![Status](https://img.shields.io/badge/Status-Production-green?style=for-the-badge)]
[![Version](https://img.shields.io/badge/Version-2.0.0-blue?style=for-the-badge)]

[**Demo**](https://github.com/Sen2pi/graphAndCalc) â€¢ [**DocumentaÃ§Ã£o**](docs/) â€¢ [**Reportar Bug**](https://github.com/Sen2pi/graphAndCalc/issues)

</div>

---

## ğŸ¯ **O que o StatDash faz?**

O StatDash transforma seu workspace do Capacities em um **motor de insights baseado em dados**, fornecendo:

- ğŸ“Š **Analytics em Tempo Real**: EstatÃ­sticas e mÃ©tricas ao vivo da sua base de conhecimento
- ğŸ” **Insights Profundos**: AnÃ¡lise avanÃ§ada de propriedades e relacionamentos de objetos
- ğŸ“ˆ **VisualizaÃ§Ãµes Interativas**: GrÃ¡ficos e tabelas lindas para exploraÃ§Ã£o de dados
- â° **AnÃ¡lise Temporal**: Entendendo como seu conhecimento evolui ao longo do tempo
- ğŸ”— **Mapeamento de Relacionamentos**: Descobrindo conexÃµes entre diferentes objetos
- ğŸ“± **Interface Moderna**: Dashboard web responsivo acessÃ­vel de qualquer dispositivo

---

## âœ¨ **Funcionalidades Principais**

### ğŸ“Š **Analytics Core**
- **VisÃ£o Geral do Workspace**: Total de estruturas, objetos e coleÃ§Ãµes
- **Top Estruturas**: Ranking de estruturas por contagem de objetos
- **GrÃ¡ficos Interativos**: VisualizaÃ§Ãµes de dados com Chart.js
- **AtualizaÃ§Ãµes em Tempo Real**: Refresh de dados ao vivo e monitoramento

### ğŸ” **AnÃ¡lise AvanÃ§ada**
- **Propriedades NumÃ©ricas**: MÃ©dia, mediana, desvio padrÃ£o, valores min/max
- **Relacionamentos de Objetos**: Mapeamento de conexÃµes e dependÃªncias
- **Atividade Temporal**: AnÃ¡lise de padrÃµes de criaÃ§Ã£o e modificaÃ§Ã£o
- **ComparaÃ§Ã£o de Estruturas**: AnÃ¡lise comparativa entre diferentes tipos

### ğŸ”— **Mapeamento de Relacionamentos** *(NOVO!)*
- **Diagramas Estilo MySQL**: RepresentaÃ§Ã£o visual de relacionamentos de banco de dados
- **Mapas de Estruturas Interativos**: Clique e explore conexÃµes de objetos
- **Relacionamentos Bidirecionais**: Rastreamento de relacionamentos de entrada e saÃ­da
- **VisualizaÃ§Ã£o de Propriedades**: Chaves primÃ¡rias, estrangeiras e tipos de dados

### ğŸ“Š **Construtor de EstatÃ­sticas Customizadas** *(NOVO!)*
- **Tipos de GrÃ¡ficos FlexÃ­veis**: Cards de valor Ãºnico, barras de progresso, grÃ¡ficos XY
- **SeleÃ§Ã£o de Propriedades**: Escolha propriedades para eixos X e Y dinamicamente
- **OpÃ§Ãµes de AgregaÃ§Ã£o**: OperaÃ§Ãµes de contagem, soma, mÃ©dia, mÃ­nimo, mÃ¡ximo
- **GeraÃ§Ã£o de GrÃ¡ficos em Tempo Real**: CriaÃ§Ã£o instantÃ¢nea de visualizaÃ§Ãµes

### ğŸ¨ **Interface Moderna**
- **Dashboard Responsivo**: Design de interface moderno e adaptativo
- **VisualizaÃ§Ãµes Interativas**: GrÃ¡ficos de barras, linhas e displays estatÃ­sticos
- **Filtros AvanÃ§ados**: SeleÃ§Ã£o de estrutura e filtragem por tipo de anÃ¡lise
- **Dados em Tempo Real**: AtualizaÃ§Ãµes ao vivo e carregamento de conteÃºdo dinÃ¢mico

---

## ğŸ› ï¸ **Stack TecnolÃ³gico**

| Categoria | Tecnologia |
|-----------|------------|
| **Backend** | ![Node.js](https://img.shields.io/badge/Node.js-18+-green?style=flat&logo=node.js) ![Express](https://img.shields.io/badge/Express-4.18+-black?style=flat&logo=express) |
| **Frontend** | ![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=html5&logoColor=white) ![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=css3&logoColor=white) ![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=flat&logo=javascript&logoColor=black) |
| **GrÃ¡ficos** | ![Chart.js](https://img.shields.io/badge/Chart.js-FF6384?style=flat&logo=chart.js&logoColor=white) ![Date-fns](https://img.shields.io/badge/Date--fns-6C5CE7?style=flat) |
| **HTTP Client** | ![Axios](https://img.shields.io/badge/Axios-5C3EE8?style=flat&logo=axios) |
| **UtilitÃ¡rios** | ![Lodash](https://img.shields.io/badge/Lodash-3492FF?style=flat&logo=lodash) |
| **Desenvolvimento** | ![Nodemon](https://img.shields.io/badge/Nodemon-76D04B?style=flat&logo=nodemon) ![Jest](https://img.shields.io/badge/Jest-C21325?style=flat&logo=jest) |

---

## ğŸš€ **ComeÃ§ar RÃ¡pido**

### **1. Clone o repositÃ³rio**
```bash
git clone https://github.com/Sen2pi/graphAndCalc.git
cd graphAndCalc
```

### **2. Instale as dependÃªncias**
```bash
npm install
```

### **3. Configure as variÃ¡veis de ambiente**
```bash
# Copie o arquivo de exemplo
cp env.example .env

# Edite .env com suas credenciais
CAPACITIES_API_TOKEN=seu_token_de_acesso_aqui
CAPACITIES_SPACE_ID=seu_space_id_aqui
CAPACITIES_API_BASE_URL=https://api.capacities.io
PORT=3000
```

### **4. Inicie o servidor**
```bash
npm start
```

### **5. Acesse o dashboard**
Abra seu navegador em `http://localhost:3000` ğŸ‰

---

## ğŸ¯ **Guia de Uso RÃ¡pido**

### **ğŸ“Š Visualizando Diagramas de Relacionamento**
1. Inicie o servidor: `npm start`
2. Abra seu navegador em `http://localhost:3000`
3. Selecione uma estrutura no dropdown
4. Clique em "Load Diagram" na seÃ§Ã£o "Relationship Diagram"
5. Explore a representaÃ§Ã£o visual dos relacionamentos de objetos

### **ğŸ“ˆ Criando GrÃ¡ficos Customizados**
1. Selecione uma estrutura no dashboard
2. Escolha seu tipo de grÃ¡fico (valor Ãºnico, progresso, barras, linha, etc.)
3. Selecione propriedades para os eixos X e Y
4. Escolha o mÃ©todo de agregaÃ§Ã£o (contagem, soma, mÃ©dia, etc.)
5. Clique em "Generate Chart" para criar sua visualizaÃ§Ã£o

### **ğŸ” Entendendo a Interface**
- **Relationship Diagram**: Mostra como as estruturas se conectam entre si
- **Custom Statistics Builder**: Crie grÃ¡ficos baseados em suas necessidades especÃ­ficas
- **Property Selection**: Escolha entre propriedades de objetos disponÃ­veis
- **Real-time Generation**: GrÃ¡ficos atualizam instantaneamente com suas seleÃ§Ãµes

---

## ğŸ“‹ **PrÃ©-requisitos**

- **Node.js** 18+ 
- **Token de Acesso da API Capacities**
- **ID do Space Capacities**
- **Navegador web moderno** (Chrome, Firefox, Safari, Edge)

---

## ğŸ”‘ **ConfiguraÃ§Ã£o da API**

### **ğŸ“± Obtendo seu Token de API**

1. Abra a aplicaÃ§Ã£o desktop do Capacities
2. Navegue para `Settings` > `Capacities API`
3. Gere um novo token de acesso
4. **âš ï¸ Importante**: Mantenha este token seguro e nunca o compartilhe

### **ğŸ  Obtendo seu Space ID**

1. Na aplicaÃ§Ã£o Capacities, vÃ¡ para `Settings` > `Space settings`
2. O Space ID serÃ¡ exibido na seÃ§Ã£o de configuraÃ§Ãµes

---

## ğŸ“¡ **Endpoints da API**

### ğŸ¯ **Dashboard Core**
| Endpoint | MÃ©todo | DescriÃ§Ã£o |
|-----------|--------|-----------|
| `/api/dashboard` | `GET` | RelatÃ³rio completo de anÃ¡lise |
| `/api/dashboard/space-stats` | `GET` | EstatÃ­sticas gerais do workspace |

### ğŸ” **AnÃ¡lise de Estruturas**
| Endpoint | MÃ©todo | DescriÃ§Ã£o |
|-----------|--------|-----------|
| `/api/dashboard/structure/:id` | `GET` | AnÃ¡lise completa da estrutura |
| `/api/dashboard/structure/:id/numeric-properties` | `GET` | AnÃ¡lise de propriedades numÃ©ricas |
| `/api/dashboard/structure/:id/references` | `GET` | AnÃ¡lise de referÃªncias de objetos |
| `/api/dashboard/structure/:id/temporal` | `GET` | AnÃ¡lise de atividade temporal |

### ğŸ”— **Relacionamentos e EstatÃ­sticas Customizadas** *(NOVO!)*
| Endpoint | MÃ©todo | DescriÃ§Ã£o |
|-----------|--------|-----------|
| `/api/dashboard/structure/:id/relationship-diagram` | `GET` | Diagrama de relacionamentos estilo MySQL |
| `/api/dashboard/structure/:id/custom-chart` | `POST` | GeraÃ§Ã£o de grÃ¡ficos customizados |

### ğŸ”„ **ComparaÃ§Ã£o e ColeÃ§Ãµes**
| Endpoint | MÃ©todo | DescriÃ§Ã£o |
|-----------|--------|-----------|
| `/api/dashboard/compare` | `GET` | Comparar mÃºltiplas estruturas |
| `/api/dashboard/collections` | `GET` | EstatÃ­sticas de coleÃ§Ãµes |

### ğŸ› ï¸ **UtilitÃ¡rios**
| Endpoint | MÃ©todo | DescriÃ§Ã£o |
|-----------|--------|-----------|
| `/health` | `GET` | VerificaÃ§Ã£o de saÃºde da API |
| `/` | `GET` | InformaÃ§Ãµes da API |

---

## ğŸŒ **Interface Web**

Acesse `http://localhost:3000` para usar a interface web completa.

### ğŸ¨ **Recursos da Interface**
- **Dashboard Principal**: VisÃ£o geral com estatÃ­sticas e grÃ¡ficos
- **SeleÃ§Ã£o de Estruturas**: Dropdown com todas as estruturas disponÃ­veis
- **Tipos de AnÃ¡lise**: Escolha entre diferentes tipos de anÃ¡lise
- **GrÃ¡ficos Interativos**: VisualizaÃ§Ãµes responsivas e interativas
- **Tabelas Detalhadas**: Dados organizados em tabelas para anÃ¡lise detalhada

---

## ğŸ“Š **Tipos de AnÃ¡lise**

### 1ï¸âƒ£ **AnÃ¡lise de VisÃ£o Geral**
- Contagem total de objetos
- NÃºmero de propriedades numÃ©ricas
- Total de referÃªncias
- Eventos temporais

### 2ï¸âƒ£ **Propriedades NumÃ©ricas**
- **EstatÃ­sticas Descritivas**: MÃ©dia, mediana, moda
- **Medidas de DispersÃ£o**: Desvio padrÃ£o, variÃ¢ncia
- **Valores Extremos**: MÃ­nimo e mÃ¡ximo
- **AnÃ¡lise de Contagem**: NÃºmero de objetos por propriedade

### 3ï¸âƒ£ **ReferÃªncias de Objetos**
- **Mapeamento de ConexÃµes**: Quais objetos referenciam outros
- **Contagem de ReferÃªncias**: FrequÃªncia de cada tipo de referÃªncia
- **AnÃ¡lise de DependÃªncias**: Objetos mais referenciados

### 4ï¸âƒ£ **Atividade Temporal**
- **CriaÃ§Ã£o de Objetos**: PadrÃµes de criaÃ§Ã£o ao longo do tempo
- **ModificaÃ§Ãµes**: AnÃ¡lise de frequÃªncia de atualizaÃ§Ãµes
- **AnÃ¡lise Sazonal**: PadrÃµes diÃ¡rios, semanais, mensais

---

## ğŸ”§ **Desenvolvimento**

### ğŸ“ **Estrutura do Projeto**
```
graphAndCalc/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ config/
â”‚   â”‚   â””â”€â”€ ğŸ“„ capacities.js      # ConfiguraÃ§Ã£o da API Capacities
â”‚   â”œâ”€â”€ ğŸ“ services/
â”‚   â”‚   â””â”€â”€ ğŸ“„ analytics.js       # ServiÃ§o de anÃ¡lise de dados
â”‚   â”œâ”€â”€ ğŸ“ routes/
â”‚   â”‚   â””â”€â”€ ğŸ“„ dashboard.js       # Rotas da API
â”‚   â””â”€â”€ ğŸ“„ index.js               # Servidor principal
â”œâ”€â”€ ğŸ“ public/
â”‚   â””â”€â”€ ğŸ“„ index.html             # Interface web
â”œâ”€â”€ ğŸ“ docs/
â”‚   â””â”€â”€ ğŸ“„ dashboard-improvements.md  # DocumentaÃ§Ã£o das melhorias
â”œâ”€â”€ ğŸ“ examples/
â”‚   â””â”€â”€ ğŸ“„ example-usage.js       # Exemplos de uso
â”œâ”€â”€ ğŸ“„ env.example                # Template de variÃ¡veis de ambiente
â”œâ”€â”€ ğŸ“„ package.json               # DependÃªncias e scripts
â”œâ”€â”€ ğŸ“„ README.md                  # Esta documentaÃ§Ã£o
â””â”€â”€ ğŸ–¼ï¸ logo.png                   # Logo do projeto
```

### ğŸš€ **Scripts DisponÃ­veis**
```bash
npm start          # Iniciar o servidor
npm run dev        # Iniciar em modo desenvolvimento com nodemon
npm test           # Executar testes
npm run example    # Executar exemplos de uso
```

### â• **Adicionando Novas Funcionalidades**

1. **Novos endpoints**: Adicione em `src/routes/dashboard.js`
2. **Novas anÃ¡lises**: Implemente em `src/services/analytics.js`
3. **Novos grÃ¡ficos**: Adicione na interface web em `public/index.html`

---

## ğŸ“ˆ **Exemplos de Uso**

### ğŸ” **AnÃ¡lise de Estrutura**
```bash
curl "http://localhost:3000/api/dashboard/structure/RootPage/numeric-properties" \
  -H "Authorization: Bearer your_token"
```

### ğŸ”„ **ComparaÃ§Ã£o de Estruturas**
```bash
curl "http://localhost:3000/api/dashboard/compare?structureIds[]=RootPage&structureIds[]=RootDatabase" \
  -H "Authorization: Bearer your_token"
```

### ğŸ“Š **EstatÃ­sticas Gerais**
```bash
curl "http://localhost:3000/api/dashboard/space-stats" \
  -H "Authorization: Bearer your_token"
```

### ğŸš€ **Executar Script de Exemplos**
```bash
npm run example
```

---

## ğŸš¨ **LimitaÃ§Ãµes e ConsideraÃ§Ãµes**

### â±ï¸ **Rate Limiting**
- A API do Capacities tem limites de taxa
- Implemente retry com backoff exponencial para requisiÃ§Ãµes
- Monitore os headers `RateLimit-Remaining` e `RateLimit-Reset`

### ğŸ“ˆ **Dados em Grande Escala**
- Para workspaces com muitos objetos, considere implementar paginaÃ§Ã£o
- Cache resultados para melhorar performance
- AnÃ¡lise em background para relatÃ³rios complexos

### ğŸ”’ **SeguranÃ§a**
- **NUNCA** exponha seu token de API no frontend
- Use HTTPS em produÃ§Ã£o
- Implemente autenticaÃ§Ã£o se necessÃ¡rio

---

## ğŸ› **SoluÃ§Ã£o de Problemas**

### ğŸ” **Erro de AutenticaÃ§Ã£o**
```
Error: CAPACITIES_API_TOKEN is required in .env file
```
**SoluÃ§Ã£o**: Verifique se o arquivo `.env` existe e contÃ©m o token correto.

### ğŸ”Œ **Erro de ConexÃ£o**
```
Error: connect ECONNREFUSED
```
**SoluÃ§Ã£o**: Verifique se a API do Capacities estÃ¡ acessÃ­vel e se o token Ã© vÃ¡lido.

### ğŸ“Š **Dados NÃ£o Carregando**
**SoluÃ§Ã£o**: 
1. Verifique o console do navegador para erros
2. Confirme se o servidor estÃ¡ rodando
3. Verifique as permissÃµes do token de API

---

## ğŸ¤ **Contribuindo**

Aceitamos contribuiÃ§Ãµes! Aqui estÃ¡ como vocÃª pode ajudar:

1. **Fork** o projeto
2. **Crie** uma branch de feature (`git checkout -b feature/AmazingFeature`)
3. **Commit** suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. **Push** para a branch (`git push origin feature/AmazingFeature`)
5. **Abra** um Pull Request

### ğŸ¯ **Ãreas para ContribuiÃ§Ã£o**
- Novos tipos de anÃ¡lise
- VisualizaÃ§Ãµes adicionais de grÃ¡ficos
- Melhorias de performance
- Aprimoramentos de documentaÃ§Ã£o
- CorreÃ§Ãµes de bugs e testes

---

## ğŸ“„ **LicenÃ§a**

Este projeto estÃ¡ licenciado sob a LicenÃ§a MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## ğŸ”— **Links Ãšteis**

- [ğŸ“š DocumentaÃ§Ã£o da API Capacities](https://docs.capacities.io/developer/api)
- [ğŸŒ Website do Capacities](https://capacities.io)
- [ğŸ“Š DocumentaÃ§Ã£o do Chart.js](https://www.chartjs.org/docs/)
- [âš¡ DocumentaÃ§Ã£o do Express.js](https://expressjs.com/)

---

## ğŸ“ **Suporte**

Se vocÃª encontrar problemas ou tiver perguntas:

1. **Verifique** esta documentaÃ§Ã£o
2. **Revise** os logs do servidor
3. **Abra** uma issue no repositÃ³rio
4. **Entre em contato** com a equipe de desenvolvimento

---

## ğŸš€ **ComeÃ§ando RÃ¡pido**

```bash
# Clone e configure
git clone https://github.com/Sen2pi/graphAndCalc.git
cd graphAndCalc
npm install

# Configure seu ambiente
cp env.example .env
# Edite .env com suas credenciais do Capacities

# Inicie o StatDash
npm start
```

EntÃ£o visite `http://localhost:3000` para acessar seu dashboard! ğŸ‰

---

<div align="center">

**ConstruÃ­do com â¤ï¸ para a comunidade Capacities**

[![GitHub stars](https://img.shields.io/github/stars/Sen2pi/graphAndCalc?style=social)](https://github.com/Sen2pi/graphAndCalc)
[![GitHub forks](https://img.shields.io/badge/GitHub-Forks-blue?style=social)](https://github.com/Sen2pi/graphAndCalc)
[![GitHub issues](https://img.shields.io/github/issues/Sen2pi/graphAndCalc)](https://github.com/Sen2pi/graphAndCalc/issues)

</div>
